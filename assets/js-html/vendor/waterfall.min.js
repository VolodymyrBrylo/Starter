function waterfall(a){function b(a){return window.getComputedStyle(a)}function c(a,c){return parseFloat(b(c)["margin"+a])||0}function d(a){return a+"px"}function e(a){return parseFloat(a.style.top)}function f(a){return parseFloat(a.style.left)}function g(a){return parseFloat(b(a).width)}function h(a){return parseFloat(b(a).height)}function i(a){return e(a)+h(a)+c("Bottom",a)}function j(a){return f(a)+g(a)+c("Right",a)}function k(a){a=a.sort(function(a,b){var c=i(b)-i(a);return c||f(b)-f(a)})}"string"==typeof a&&(a=document.querySelector(a)),a.style.position="relative";var l=[],m=[].map.call(a.children,function(a){return a.style.position="absolute",a});m.length&&(m[0].style.top="0px",m[0].style.left=d(c("Left",m[0])),l.push(m[0]));for(var n=1;n<m.length;n++){var o=m[n-1],p=m[n],q=j(o)+g(p)<=g(a);if(!q)break;p.style.top=o.style.top,p.style.left=d(j(o)+c("Left",p)),l.push(p)}for(;n<m.length;n++){k(l);var p=m[n],r=l.pop();p.style.top=d(i(r)+c("Top",p)),p.style.left=d(f(r)),l.push(p)}k(l);var s=l[0];a.style.height=d(i(s)+c("Bottom",s))}